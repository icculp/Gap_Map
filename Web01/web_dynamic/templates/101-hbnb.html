<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../static/styles/4-common.css?{{cache_id}}">
    <link rel="stylesheet" type="text/css" href="../static/styles/3-header.css?{{cache_id}}">
    <link rel="stylesheet" type="text/css" href="../static/styles/3-footer.css?{{cache_id}}">
    <link rel="stylesheet" type="text/css" href="../static/styles/6-filters.css?{{cache_id}}">
    <link type="text/css" rel="stylesheet" href="../static/styles/8-places.css?{{cache_id}}">
	<link rel="icon" href="../static/images/icon.png" />
	<SCRIPT src="https://code.jquery.com/jquery-3.2.1.min.js"></SCRIPT>
	<script src="../static/scripts/101-hbnb.js"></script>

<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
</script>
<script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>

    <title>Gap Map</title>
  </head>
  <body>
    <header>
      <div class="logo"></div>
      <div id="api_status"></div>
    </header>
    <div class="container">
      <section class="filters">
	<div class="locations">
	  <h3>States</h3>
	  <h4>&nbsp;</h4>
	  <div class="popover">
	    <ul>
	      {% for state in states %}
	      <li>
		<h2><input type="checkbox" id="state" data-id="{{state[0].id}}" data-name="{{state[0].name}}"/>{{ state[0].name }}:</h2>
		<ul>
		  {% for city in state[1] %}
		  <li><input type="checkbox" id="city" data-id="{{city.id}}" data-name="{{city.name}}"/>{{ city.name }}</li>
		  {% endfor %}
		</ul>
	      </li>
	      {% endfor %}
	    </ul>
	  </div>
	</div>

	<div class="amenities">
	  <h3>Amenities</h3>
	  <h4>&nbsp;</h4>
	  <div class="popover">
	    <ul>
	      {% for amenity in amenities %}
	      <li><INPUT type="checkbox" id="amenity" data-id="{{amenity.id}}" data-name="{{amenity.name}}"/>{{ amenity.name }}</li>
	      {% endfor %}
	    </ul>
	  </div>
	</div>

	<button type="button">Search</button>
      </section>
      <div class="placesh1"><h1>Places</h1></div>
      <section class="places">
      </section>
    </div>

	<div id='map'></div>

	<script src="../static/scripts/map.js"></script>


<!--
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiaWNjdWxwIiwiYSI6ImNrZ2Ewc2x6eTAyanAydmw1NDgzMXR0NXYifQ.nqjI4BmU6QzI8ddfbsfozA';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/streets-v11',
center: [-95.91362573669322, 36.1905273587632],
zoom: 11
});


let lii = [


[
[-95.91362573669322, 36.1905273587632], [-95.91574094990814, 36.19051743478286], [-95.91573645834632, 36.19060240504822], [-95.91573584456249, 36.19061403133931], [-95.91569200131806, 36.191438007734654], [-95.9146647295271, 36.191285549112266], [-95.91352697073239, 36.19128437731413], [-95.91352711718974, 36.19105338372745], [-95.91352731330566, 36.190603812485726], [-95.91352732104684, 36.19057537869021], [-95.91352732420926, 36.19056393558018], [-95.91352732542431, 36.190527821210125], [-95.9135425407527, 36.19052774915974], [-95.91362573669322, 36.1905273587632],
],

[
[-95.92292434800613, 36.16865335738881], [-95.92295991956266, 36.168659208430576], [-95.92298397919377, 36.168663605806024], [-95.92300794204931, 36.16866834225104], [-95.92303179810442, 36.16867341849318], [-95.92305554189801, 36.168678830832], [-95.9230791656753, 36.1686845782315], [-95.9231026617052, 36.16869065875472], [-95.92295558736126, 36.16905109251474], [-95.92293996577902, 36.169047001089076], [-95.92292425828941, 36.16904313173387], [-95.92290847042496, 36.16903948544669], [-95.92289260551934, 36.169036062285315], [-95.92287667019258, 36.16903286416746], [-95.92286066773082, 36.169029892953056], [-95.92284460371405, 36.16902714783742], [-95.922828483651, 36.169024630719036], [-95.92281517297475, 36.169022749195264], [-95.9227960931184, 36.169020282584654], [-95.9227775386496, 36.16901821361775], [-95.92276124163809, 36.1690166300412], [-95.92274491409145, 36.1690152767074], [-95.9227285582082, 36.169014154555924], [-95.92271218176728, 36.16901326372176], [-95.92269578918975, 36.16901260518308], [-95.92267938383308, 36.16901217809665], [-95.92265623524483, 36.1690119711498], [-95.92265684777114, 36.16869085774936], [-95.92265574162343, 36.16868512597804], [-95.9226554792256, 36.16868167242348], [-95.92265551387042, 36.168678211402614], [-95.92265584505836, 36.16867476183741], [-95.92265647349652, 36.168671339065305], [-95.92265739539901, 36.16866796014818], [-95.92265860478153, 36.1686646412086], [-95.92266009674704, 36.16866139928943], [-95.92266186422363, 36.16865824959281], [-95.92266389791683, 36.16865520728238], [-95.9226661896434, 36.16865228754103], [-95.92266872568761, 36.16864950455409], [-95.92267149569122, 36.1686468716639], [-95.92267448485109, 36.1686444021354], [-95.92267767952269, 36.16864210745105], [-95.92268106383911, 36.16863999905439], [-95.92268462195722, 36.16863808748813], [-95.92268833474755, 36.16863638143499], [-95.92269218530333, 36.16863488961621], [-95.92269615563015, 36.168633619832676], [-95.92270022558243, 36.16863257714371], [-95.92270437501467, 36.16863176660853], [-95.9227085837576, 36.16863119418729], [-95.92271283178455, 36.16863086043407], [-95.92271709790998, 36.16863076768566], [-95.92272136210741, 36.16863091649601], [-95.92272560217518, 36.16863130557843], [-95.92272979922167, 36.16863193460513], [-95.92288558068364, 36.16864849478584], [-95.92290692812071, 36.168650764541965], [-95.92291568628785, 36.16865204512524], [-95.92292434800613, 36.16865335738881]],


[[-95.9233540961699, 36.18798062862651], [-95.92362881593213, 36.18798087064876], [-95.92362930434206, 36.1883394252654], [-95.92355339167443, 36.18833475554439], [-95.92354515103, 36.18833438728778], [-95.92353690507149, 36.188334136128326], [-95.92352865382266, 36.18833400116504], [-95.92352040170597, 36.18833398337605], [-95.92351214983292, 36.18833408278063], [-95.92350390158559, 36.188334297634505], [-95.92349565911574, 36.1883346306793], [-95.92348742471778, 36.188335079250535], [-95.9234792017026, 36.18833564430708], [-95.92347099229322, 36.18833632588743], [-95.92346279873648, 36.18833712312908], [-95.92345462323162, 36.188338036971665], [-95.92344646916088, 36.18833906567091], [-95.92343578422646, 36.188340593162], [-95.9233540961699, 36.18798062862651]],



]





var linee = new Array();
var polygonn = new Array();
alert("Length of li");
for (i = 0; i < lii.length; i++) {

linee.push({
  "type": "Feature",
  "properties": {},
  "geometry": {
    "type": "LineString",
    "coordinates": lii[i]
  }
});
 

polygonn.push(turf.buffer(linee[i], 2000, {units: 'feet'}));

}; /* end first for loop */



map.on('load', function() {

let route = "route";
let poly = "poly"l
  
for (j = 0; j < lii.length; j++) {

route = "route" + i.toString();
poly = "poly" + i.toString();

map.addLayer({
    "id": route,
    "type": "line",
    "source": {
      "type": "geojson",
      "data": linee[j]
    }
});
  map.addLayer({
    "id": poly,
    "type": "fill",
    "source": {
      "type": "geojson",
      "data": polygonn[j]
    },
    "layout": {},
    "paint": {
      "fill-color": 'red',
      "fill-opacity": 0.3
    }

  });
};
});
alert(linee[1]);
</script>
-->


    <footer>
      <p>Gap Map</p>
    </footer>
  </body>
</html>
